#!/usr/bin/env python3

import argparse
import os

def main_func():
    args = parse_args()

    if args.subcommand == "check-cwd":
        check_cwd(args)

def check_cwd(args):
    if os.path.realpath(os.getcwd()) != os.path.realpath(os.environ['MUT_DATA']):
        print(f"Warning: not in expected data directory: {os.environ['MUT_DATA']}")

    exit(0)

def parse_args():
    '''
    parse arguments from command line
    '''

    parser = argparse.ArgumentParser(description='Wrapper function for top-level mutein functions')
    subparsers = parser.add_subparsers(dest="subcommand")

    parser_check_cwd = subparsers.add_parser('check-cwd', help='check the working directory is the expected data folder')

    args = parser.parse_args()

    return args

if __name__ == "__main__":
    globals()["main_func"]()
